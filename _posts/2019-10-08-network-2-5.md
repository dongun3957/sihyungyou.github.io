---
layout: post
title: "Network : CH 2-5"
tags: [한동대, 공부, 네트워크]
comments: true
---

> 2.5 P2P applications  

### P2P Properties  
P2P란 지금까지 Web, mail, DNS에서 다루었던 client-server 구조와 다른 no central control, no central database 특징을 가진 peer-to-peer 구조를 말한다. 모든 peer는 대등하며(no hierarchy) 하는 일에 따라 client가 될 수도 있고 server가 될 수도 있다. 대등하다는 것은 Peer 간의 소통이 symmetric 하다는 것을 의미한다. P2P는 먼저 한쪽에 잘 정비된 global view system이 아니기에 확장성이 좋다. 하지만 임의의 peer들이 항상 available 하지는 않다는 점, peer들이 각각 독립적이라는 점 등이 단점이다. 전자의 이유때문에 system이 고정적이지 않기도 하다 (system globally unreliable)  

### Napster : Centralized Directory  
Napster는 소리바다와 같이 완전 pure P2P는 아니다. Napster는 peer끼리 연결되면 중앙서버에 알리고 IP address, content를 등록한다. 예를 들어 Alice가 "Hey Jude"라는 노래를 듣고싶다고 query를 한다는 것은 directory server에 물어본다는 것을 의미한다. 그러면 서버는 누가 그 노래를 가졌는지 알려주고 P2P로 data request 한다. 즉 일부는 centralized(location of document is centralized), 일부는 직접 P2P(data transfer)가 섞여있는 구조다.  

Napster의 장점은 fast querying 이다. data를 누가 갖고 있는지 찾는 것이 빠르다. 단점으로는 중앙화된 시스템의 고질적 문제인 single point of failure, 그리고 scalability 문제가 있다. 마지막으로 불법인 경우가 있다는 것에 유의해야 한다.  

### Gnutella : Query Flooding  
Gnutella는 fully distributed P2P protocol이다 (no central server). Data를 누가 가지고 있는지 물어보고 싶어도 물어볼 서버가 없다. 그래서 query flooding 개념이 필요한데 query를 보낼 때 자기가 아는 neighbor 에게 뿌려주는 것이다. 그 요청을 받은 다른 peer들도 역시 각자의 neighbor에게 query를 날린다. 이 과정에서 자기가 아는 모든 neighbor과 connection을 맺으면 너무 많기 때문에 몇몇만 한정적으로 한다. 이런 구조의 장점으로는 연결이 끊기지만 않는다면 언젠가는 data를 전달하거나 받을 수 있다 (reliability). 하지만 이런 점이 동시에 단점이기도 하다. connection 하나만으로도 얻을 수 있는 data인데 불필요하게 많이 만들 수도 있다. 이것을 broadcast strom 이라고 한다.  

